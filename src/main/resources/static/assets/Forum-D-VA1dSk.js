import{_ as $,aQ as se,R as x,d as L,e as g,h as y,y as ee,f as e,w as t,v as d,l as q,x as D,H as te,z as E,C as N,F as z,B as le,i as X,j as A,k as Q,aS as we,N as ie,r as f,a as Y,o as oe,P as c,af as ae,V as de,A as R,U as B,T as G,q as Ce,D as J,a2 as ue,u as be,S as _e,a$ as ke,b as he,c as Ve,m as r,b4 as Pe,Z as Ee,aJ as Z,g as Te,K as ne,L as re,a9 as ze,aa as Fe,ab as Se,G as Ie,b5 as De,aI as Ue,n as Ne}from"./index-DrN7HJWs.js";import{a as me,u as Be,o as Re,p as Ae,q as Le,z as Me,r as W,s as qe,t as Ke}from"./zh-CN-BzENR6_-.js";import"./style-B_IV0DVr.js";/* empty css                   *//* empty css                        */import{f as Oe}from"./formatDistanceToNow-DPjnvkCL.js";import{R as je,N as He}from"./NoticeDetailDialog-BQOCStDn.js";import"./request-BGbcGZqw.js";import"./notice-CrHf94I4.js";const Ge={name:"CategoryManagement",components:{Plus:se},emits:["refresh"],setup(K,{emit:a}){const F=f(!1),s=f([]),V=f(!1),w=f(!1),C=f(!1),k=f(null),m=Y({id:null,name:"",sort:0,description:"",status:1}),h={name:[{required:!0,message:"请输入板块名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],sort:[{required:!0,message:"请输入排序值",trigger:"blur"}]},T=async()=>{F.value=!0;try{const n=await me();s.value=n.data||[]}catch(n){console.error("获取板块列表失败:",n),c.error("获取板块列表失败")}finally{F.value=!1}},p=()=>{w.value=!1,S(),V.value=!0},v=n=>{w.value=!0,S(),Object.assign(m,n),V.value=!0},b=n=>{ae.confirm(`确定要删除板块 "${n.name}" 吗？删除后该板块下的所有帖子将被移动到默认板块。`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await Ae(n.id),c.success("删除成功"),T(),a("refresh")}catch(P){console.error("删除板块失败:",P),c.error("删除板块失败")}}).catch(()=>{c.info("已取消删除")})},U=async()=>{k.value&&await k.value.validate(async n=>{if(n){C.value=!0;try{w.value?(await Be(m.id,m),c.success("更新成功")):(await Re(m),c.success("添加成功")),V.value=!1,T(),a("refresh")}catch(P){console.error("保存板块失败:",P),c.error("保存失败")}finally{C.value=!1}}})},S=()=>{k.value&&k.value.resetFields(),m.id=null,m.name="",m.sort=0,m.description=""},I=n=>{if(!n)return"-";try{return new Date(n).toLocaleString("zh-CN",{hour12:!1})}catch{return n}};return oe(()=>{T()}),{loading:F,categories:s,dialogVisible:V,isEdit:w,submitting:C,categoryFormRef:k,categoryForm:m,rules:h,handleAddCategory:p,handleEditCategory:v,handleDeleteCategory:b,submitCategoryForm:U,formatTime:I}}},Je={class:"category-management-container"},Qe={class:"header"},Ze={class:"dialog-footer"};function We(K,a,F,s,V,w){const C=x("Plus"),k=q,m=D,h=N,T=le,p=Q,v=A,b=we,U=X,S=ie,I=te;return g(),L("div",Je,[y("div",Qe,[a[6]||(a[6]=y("h3",null,"板块管理",-1)),e(m,{type:"primary",onClick:s.handleAddCategory},{default:t(()=>[e(k,null,{default:t(()=>[e(C)]),_:1}),a[5]||(a[5]=d(" 添加板块 "))]),_:1},8,["onClick"])]),ee((g(),E(T,{data:s.categories,border:"",style:{width:"100%"}},{default:t(()=>[e(h,{label:"板块名称","min-width":"150",prop:"name"}),e(h,{label:"排序",prop:"sort",width:"80"}),e(h,{label:"描述","min-width":"200",prop:"description","show-overflow-tooltip":""}),e(h,{label:"帖子数量",prop:"postCount",width:"100"}),e(h,{label:"创建时间",width:"180"},{default:t(n=>[d(z(s.formatTime(n.row.createTime)),1)]),_:1}),e(h,{fixed:"right",label:"操作",width:"150"},{default:t(n=>[e(m,{size:"small",type:"primary",onClick:P=>s.handleEditCategory(n.row)},{default:t(()=>a[7]||(a[7]=[d("编辑")])),_:2},1032,["onClick"]),e(m,{size:"small",type:"danger",onClick:P=>s.handleDeleteCategory(n.row)},{default:t(()=>a[8]||(a[8]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,s.loading]]),e(S,{modelValue:s.dialogVisible,"onUpdate:modelValue":a[4]||(a[4]=n=>s.dialogVisible=n),title:s.isEdit?"编辑板块":"添加板块",width:"500px"},{footer:t(()=>[y("span",Ze,[e(m,{onClick:a[3]||(a[3]=n=>s.dialogVisible=!1)},{default:t(()=>a[9]||(a[9]=[d("取消")])),_:1}),e(m,{loading:s.submitting,type:"primary",onClick:s.submitCategoryForm},{default:t(()=>a[10]||(a[10]=[d("确定")])),_:1},8,["loading","onClick"])])]),default:t(()=>[e(U,{ref:"categoryFormRef",model:s.categoryForm,rules:s.rules,"label-width":"80px"},{default:t(()=>[e(v,{label:"名称",prop:"name"},{default:t(()=>[e(p,{modelValue:s.categoryForm.name,"onUpdate:modelValue":a[0]||(a[0]=n=>s.categoryForm.name=n),placeholder:"请输入板块名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"排序",prop:"sort"},{default:t(()=>[e(b,{modelValue:s.categoryForm.sort,"onUpdate:modelValue":a[1]||(a[1]=n=>s.categoryForm.sort=n),max:999,min:0},null,8,["modelValue"])]),_:1}),e(v,{label:"描述",prop:"description"},{default:t(()=>[e(p,{modelValue:s.categoryForm.description,"onUpdate:modelValue":a[2]||(a[2]=n=>s.categoryForm.description=n),rows:3,placeholder:"请输入板块描述",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}const Xe=$(Ge,[["render",We],["__scopeId","data-v-531d903e"]]),Ye={name:"CommentManagement",components:{Search:de},setup(){const K=be(),a=f(!1),F=f([]),s=f(0),V=f(1),w=f(10),C=f(""),k=f(""),m=async()=>{a.value=!0;try{const u={page:V.value,size:w.value,status:C.value!==""?C.value:null,keyword:k.value||null},_=await Le(u);F.value=_.data.list||[],s.value=_.data.total||0}catch(u){console.error("获取评论列表失败:",u),c.error("获取评论列表失败")}finally{a.value=!1}},h=u=>{if(!u)return"";const _=50;return u.length>_?u.substring(0,_)+"...":u},T=async u=>{try{await W(u.id,{status:1}),c.success("评论已通过审核"),u.status=1}catch(_){console.error("审核评论失败:",_),c.error("操作失败")}},p=u=>{ae.confirm("确定要删除此评论吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await W(u.id,{status:-1}),c.success("评论已删除"),u.status=-1}catch(_){console.error("删除评论失败:",_),c.error("删除失败")}}).catch(()=>{c.info("已取消删除")})},v=async u=>{try{await W(u.id,{status:1}),c.success("评论已恢复"),u.status=1}catch(_){console.error("恢复评论失败:",_),c.error("操作失败")}},b=u=>{u.postId?K.push(`/forum/post/${u.postId}`):c.warning("无法获取帖子信息")},U=()=>{V.value=1,m()},S=()=>{V.value=1,m()},I=u=>{w.value=u,V.value=1,m()},n=u=>{V.value=u,m()},P=u=>{if(!u)return"-";try{const _=new Date(u);return Oe(_,{locale:Me})}catch(_){return console.error("时间格式化错误:",_),u}};return oe(()=>{m()}),{loading:a,comments:F,total:s,currentPage:V,pageSize:w,filterStatus:C,searchKeyword:k,truncateContent:h,handleApproveComment:T,handleDeleteComment:p,handleRestoreComment:v,viewPost:b,handleFilterChange:U,handleSearch:S,handleSizeChange:I,handleCurrentChange:n,formatTime:P}}},$e={class:"comment-management-container"},xe={class:"header"},et={class:"filter-actions"},tt={class:"comment-detail"},lt={key:0},ot={key:1},at={key:0,class:"pagination-container"};function nt(K,a,F,s,V,w){const C=B,k=G,m=x("Search"),h=q,T=Q,p=N,v=J,b=D,U=le,S=ue,I=te;return g(),L("div",$e,[y("div",xe,[a[4]||(a[4]=y("h3",null,"评论管理",-1)),y("div",et,[e(k,{modelValue:s.filterStatus,"onUpdate:modelValue":a[0]||(a[0]=n=>s.filterStatus=n),clearable:"",placeholder:"评论状态",onChange:s.handleFilterChange},{default:t(()=>[e(C,{label:"全部",value:""}),e(C,{value:1,label:"正常"}),e(C,{value:0,label:"待审核"}),e(C,{value:-1,label:"已删除"})]),_:1},8,["modelValue","onChange"]),e(T,{modelValue:s.searchKeyword,"onUpdate:modelValue":a[1]||(a[1]=n=>s.searchKeyword=n),clearable:"",placeholder:"搜索评论内容",style:{width:"200px","margin-left":"10px"},onKeyup:Ce(s.handleSearch,["enter"])},{suffix:t(()=>[e(h,{class:"el-input__icon",onClick:s.handleSearch},{default:t(()=>[e(m)]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup"])])]),ee((g(),E(U,{data:s.comments,border:"",style:{width:"100%"}},{default:t(()=>[e(p,{type:"expand"},{default:t(n=>[y("div",tt,[a[7]||(a[7]=y("p",null,[y("strong",null,"评论内容：")],-1)),y("p",null,z(n.row.content),1),n.row.postTitle?(g(),L("p",lt,[a[5]||(a[5]=y("strong",null,"帖子标题：",-1)),d(" "+z(n.row.postTitle),1)])):R("",!0),n.row.parentId?(g(),L("p",ot,[a[6]||(a[6]=y("strong",null,"回复对象：",-1)),d(" "+z(n.row.replyToName),1)])):R("",!0)])]),_:1}),e(p,{label:"评论内容","min-width":"200","show-overflow-tooltip":""},{default:t(n=>[d(z(s.truncateContent(n.row.content)),1)]),_:1}),e(p,{label:"发布者",prop:"authorName",width:"120"}),e(p,{label:"帖子标题","min-width":"150",prop:"postTitle","show-overflow-tooltip":""}),e(p,{label:"点赞数",prop:"likeCount",sortable:"",width:"80"}),e(p,{label:"状态",width:"100"},{default:t(n=>[n.row.status===1?(g(),E(v,{key:0,type:"success"},{default:t(()=>a[8]||(a[8]=[d("正常")])),_:1})):n.row.status===0?(g(),E(v,{key:1,type:"warning"},{default:t(()=>a[9]||(a[9]=[d("待审核")])),_:1})):n.row.status===-1?(g(),E(v,{key:2,type:"danger"},{default:t(()=>a[10]||(a[10]=[d("已删除")])),_:1})):(g(),E(v,{key:3,type:"info"},{default:t(()=>a[11]||(a[11]=[d("未知")])),_:1}))]),_:1}),e(p,{label:"发布时间",width:"180"},{default:t(n=>[d(z(s.formatTime(n.row.createTime)),1)]),_:1}),e(p,{fixed:"right",label:"操作",width:"200"},{default:t(n=>[n.row.status===0?(g(),E(b,{key:0,size:"small",type:"success",onClick:P=>s.handleApproveComment(n.row)},{default:t(()=>a[12]||(a[12]=[d(" 审核通过 ")])),_:2},1032,["onClick"])):R("",!0),n.row.status!==-1?(g(),E(b,{key:1,size:"small",type:"danger",onClick:P=>s.handleDeleteComment(n.row)},{default:t(()=>a[13]||(a[13]=[d(" 删除 ")])),_:2},1032,["onClick"])):R("",!0),n.row.status===-1?(g(),E(b,{key:2,size:"small",type:"primary",onClick:P=>s.handleRestoreComment(n.row)},{default:t(()=>a[14]||(a[14]=[d(" 恢复 ")])),_:2},1032,["onClick"])):R("",!0),e(b,{size:"small",onClick:P=>s.viewPost(n.row)},{default:t(()=>a[15]||(a[15]=[d(" 查看帖子 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,s.loading]]),s.total>0?(g(),L("div",at,[e(S,{"current-page":s.currentPage,"onUpdate:currentPage":a[2]||(a[2]=n=>s.currentPage=n),"page-size":s.pageSize,"onUpdate:pageSize":a[3]||(a[3]=n=>s.pageSize=n),"page-sizes":[10,20,50,100],total:s.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])):R("",!0)])}const rt=$(Ye,[["render",nt],["__scopeId","data-v-2da01040"]]),st={class:"forum-management-container"},it={class:"page-header"},dt={class:"action-buttons"},ut={class:"card-header"},mt={class:"dialog-footer"},ft={name:"ForumManagement"},pt=Object.assign(ft,{setup(K){const a=f([]),F=f(0),s=f(1),V=f(10),w=Y({keyword:"",status:null}),C=f(!1),k=f(!1),m=f(!1),h=f(null),T=f(null),p=Y({title:"",forumId:null,content:""});f({title:[{required:!0,message:"请输入帖子标题",trigger:"blur"}],forumId:[{required:!0,message:"请选择板块",trigger:"change"}],content:[{required:!0,message:"请输入帖子内容",trigger:"blur"},{validator:(l,o,H)=>{const M=v.value;M&&M.isEmpty()?H(new Error("请输入帖子内容")):H()},trigger:"blur"}]}),f(!1);const v=_e();`${ke()}`,he(()=>{const l=v.value;l!=null&&l.destroy()});const b=f([]),U=f(!1),S=async()=>{U.value=!0;try{const l=await me();l.success&&Array.isArray(l.data)?b.value=l.data:Array.isArray(l)?b.value=l:(console.warn("获取板块列表返回的数据格式不符合预期:",l),b.value=[],c.warning("获取板块列表数据格式有误"))}catch(l){console.error("获取板块列表失败:",l),c.error("获取板块列表失败"),b.value=[]}finally{U.value=!1}},I=async()=>{C.value=!0;try{const l={page:s.value,size:V.value,keyword:w.keyword||void 0};w.status&&w.status.length>0&&(l.isTop=w.status.includes("isTop")?!0:void 0,l.isEssence=w.status.includes("isEssence")?!0:void 0,l.isLocked=w.status.includes("isLocked")?!0:void 0);const o=await qe(l);o.data&&o.data.rows?(a.value=o.data.rows,F.value=o.data.total||0):(console.error("获取帖子列表响应格式错误:",o),a.value=[],F.value=0,c.error(o.message||"获取帖子列表失败"))}catch(l){console.error("获取论坛列表失败",l),c.error("获取论坛列表失败"),a.value=[],F.value=0}finally{C.value=!1}},n=()=>{s.value=1,I()},P=async l=>{m.value=!0,k.value=!0,h.value=l.id,T.value&&T.value.clearValidate(),p.title="",p.forumId=null,p.content="",v.value&&v.value.setHtml(""),await S(),k.value=!0,p.title=l.title,p.forumId=l.forumId,await Ne(),v.value?v.value.setHtml(l.content||""):p.content=l.content||""},u=l=>{ae.confirm(`确定要删除帖子 "${l.title}" 吗? 这将同时删除帖子的所有回复。`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await Ke(l.id),c.success("删除成功"),I()}catch(o){console.error("删除帖子失败",o),c.error("删除帖子失败")}}).catch(()=>{c.info("已取消删除")})},_=()=>{m.value=!1,h.value=null,T.value&&T.value.resetFields(),p.title="",p.forumId=null,p.content="",v.value&&v.value.setHtml(""),S(),k.value=!0};Ve(()=>m.value?"编辑帖子":"发布新帖子");const j=f("post"),fe=l=>{console.log("当前标签页:",l.props.name)};return oe(()=>{S(),n()}),(l,o)=>{const H=x("arrow-down"),M=Se,pe=Fe,ge=ze,ce=Ie,ve=le,ye=te;return g(),L("div",st,[y("div",it,[o[17]||(o[17]=y("h2",null,"论坛管理",-1)),y("div",dt,[e(r(D),{type:"success",onClick:o[0]||(o[0]=i=>j.value="categories")},{default:t(()=>[e(r(q),null,{default:t(()=>[e(r(Pe))]),_:1}),o[14]||(o[14]=d(" 板块管理 "))]),_:1}),e(r(D),{type:"warning",onClick:o[1]||(o[1]=i=>j.value="comments")},{default:t(()=>[e(r(q),null,{default:t(()=>[e(r(Ee))]),_:1}),o[15]||(o[15]=d(" 评论管理 "))]),_:1}),e(r(D),{type:"primary",onClick:_},{default:t(()=>[e(r(q),null,{default:t(()=>[e(r(se))]),_:1}),o[16]||(o[16]=d(" 发布帖子 "))]),_:1})])]),e(r(Ue),{modelValue:j.value,"onUpdate:modelValue":o[7]||(o[7]=i=>j.value=i),type:"card",onTabClick:fe},{default:t(()=>[e(r(Z),{label:"帖子管理",name:"post"},{default:t(()=>[e(r(Te),{class:"tab-content-card"},{header:t(()=>[y("div",ut,[o[18]||(o[18]=y("span",null,"帖子列表",-1)),e(r(D),{icon:r(De),circle:"",onClick:I},null,8,["icon"])])]),default:t(()=>[e(r(X),{inline:!0,model:l.postFilters,class:"filter-form"},{default:t(()=>[e(r(A),{label:"关键词"},{default:t(()=>[e(r(Q),{modelValue:l.postFilters.keyword,"onUpdate:modelValue":o[2]||(o[2]=i=>l.postFilters.keyword=i),clearable:"",placeholder:"标题/内容/作者"},null,8,["modelValue"])]),_:1}),e(r(A),{label:"分类"},{default:t(()=>[e(r(G),{modelValue:l.postFilters.categoryId,"onUpdate:modelValue":o[3]||(o[3]=i=>l.postFilters.categoryId=i),clearable:"",filterable:"",placeholder:"选择分类"},{default:t(()=>[e(r(B),{label:"全部",value:""}),(g(!0),L(ne,null,re(b.value,i=>(g(),E(r(B),{key:i.id,label:i.name,value:i.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(r(A),{label:"状态"},{default:t(()=>[e(r(G),{modelValue:l.postFilters.status,"onUpdate:modelValue":o[4]||(o[4]=i=>l.postFilters.status=i),clearable:"",placeholder:"选择状态"},{default:t(()=>[e(r(B),{label:"全部",value:""}),e(r(B),{label:"正常",value:"PUBLISHED"}),e(r(B),{label:"待审核",value:"PENDING"}),e(r(B),{label:"已删除",value:"DELETED"}),e(r(B),{label:"私密",value:"PRIVATE"})]),_:1},8,["modelValue"])]),_:1}),e(r(A),null,{default:t(()=>[e(r(D),{icon:r(de),type:"primary",onClick:I},{default:t(()=>o[19]||(o[19]=[d("查询")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),ee((g(),E(ve,{data:l.postList,style:{width:"100%"}},{empty:t(()=>[e(ce,{description:"暂无帖子数据"})]),default:t(()=>[e(r(N),{label:"标题","min-width":"200",prop:"title","show-overflow-tooltip":""}),e(r(N),{label:"分类",prop:"categoryName",width:"100"}),e(r(N),{label:"作者",prop:"authorName",width:"120"}),e(r(N),{label:"浏览/评论/点赞",width:"150"},{default:t(i=>[d(z(i.row.viewCount||0)+" / "+z(i.row.commentCount||0)+" / "+z(i.row.likeCount||0),1)]),_:1}),e(r(N),{label:"状态",prop:"status",width:"100"},{default:t(i=>[e(r(J),{type:l.getPostStatusType(i.row.status)},{default:t(()=>[d(z(l.formatPostStatus(i.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(r(N),{label:"置顶/精华",width:"100"},{default:t(i=>[i.row.isTop?(g(),E(r(J),{key:0,size:"small",style:{"margin-right":"5px"}},{default:t(()=>o[20]||(o[20]=[d("顶")])),_:1})):R("",!0),i.row.isEssence?(g(),E(r(J),{key:1,size:"small",type:"warning"},{default:t(()=>o[21]||(o[21]=[d("精")])),_:1})):R("",!0)]),_:1}),e(r(N),{label:"发布时间",prop:"createTime",width:"160"},{default:t(i=>[d(z(l.formatDateTime(i.row.createTime)),1)]),_:1}),e(r(N),{fixed:"right",label:"操作",width:"280"},{default:t(i=>[e(r(D),{size:"small",type:"primary",onClick:O=>l.handleViewPost(i.row)},{default:t(()=>o[22]||(o[22]=[d("查看")])),_:2},1032,["onClick"]),e(r(D),{size:"small",onClick:O=>P(i.row)},{default:t(()=>o[23]||(o[23]=[d("编辑")])),_:2},1032,["onClick"]),e(ge,{style:{"margin-left":"10px"}},{dropdown:t(()=>[e(pe,null,{default:t(()=>[e(M,{onClick:O=>l.handleToggleTop(i.row)},{default:t(()=>[d(z(i.row.isTop?"取消置顶":"置顶"),1)]),_:2},1032,["onClick"]),e(M,{onClick:O=>l.handleToggleEssence(i.row)},{default:t(()=>[d(z(i.row.isEssence?"取消加精":"加精"),1)]),_:2},1032,["onClick"]),e(M,{onClick:O=>u(i.row,"soft")},{default:t(()=>o[25]||(o[25]=[d("删除")])),_:2},1032,["onClick"]),e(M,{onClick:O=>u(i.row,"hard"),divided:""},{default:t(()=>o[26]||(o[26]=[d("彻底删除")])),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(r(D),{size:"small"},{default:t(()=>[o[24]||(o[24]=d("更多 ")),e(r(q),null,{default:t(()=>[e(H)]),_:1})]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[ye,l.postLoading]]),l.postTotal>0?(g(),E(r(ue),{key:0,"current-page":l.postCurrentPage,"onUpdate:currentPage":o[5]||(o[5]=i=>l.postCurrentPage=i),"page-size":l.postPageSize,"onUpdate:pageSize":o[6]||(o[6]=i=>l.postPageSize=i),"page-sizes":[10,20,50],total:l.postTotal,class:"pagination-container",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l.handlePostSizeChange,onCurrentChange:l.handlePostCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])):R("",!0)]),_:1})]),_:1}),e(r(Z),{label:"评论管理",name:"comment"},{default:t(()=>[e(rt)]),_:1}),e(r(Z),{label:"分类管理",name:"category"},{default:t(()=>[e(Xe)]),_:1})]),_:1},8,["modelValue"]),e(r(ie),{modelValue:l.editPostDialogVisible,"onUpdate:modelValue":o[12]||(o[12]=i=>l.editPostDialogVisible=i),title:"编辑帖子",width:"70%","close-on-click-modal":!1},{footer:t(()=>[y("span",mt,[e(r(D),{onClick:o[11]||(o[11]=i=>l.editPostDialogVisible=!1)},{default:t(()=>o[27]||(o[27]=[d("取消")])),_:1}),e(r(D),{type:"primary",onClick:l.submitEditPost,loading:l.editSubmitting},{default:t(()=>o[28]||(o[28]=[d("保存")])),_:1},8,["onClick","loading"])])]),default:t(()=>[e(r(X),{ref:"editPostFormRef",model:l.currentPost,rules:l.editPostRules,"label-width":"80px"},{default:t(()=>[e(r(A),{label:"标题",prop:"title"},{default:t(()=>[e(r(Q),{modelValue:l.currentPost.title,"onUpdate:modelValue":o[8]||(o[8]=i=>l.currentPost.title=i),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),e(r(A),{label:"分类",prop:"categoryId"},{default:t(()=>[e(r(G),{modelValue:l.currentPost.categoryId,"onUpdate:modelValue":o[9]||(o[9]=i=>l.currentPost.categoryId=i),placeholder:"选择分类"},{default:t(()=>[(g(!0),L(ne,null,re(b.value,i=>(g(),E(r(B),{key:i.id,label:i.name,value:i.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(r(A),{label:"内容",prop:"content"},{default:t(()=>[e(je,{modelValue:l.currentPost.content,"onUpdate:modelValue":o[10]||(o[10]=i=>l.currentPost.content=i),onOnCreated:l.handleEditorReady},null,8,["modelValue","onOnCreated"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),e(He,{modelValue:l.viewPostDialogVisible,"onUpdate:modelValue":o[13]||(o[13]=i=>l.viewPostDialogVisible=i),"notice-id":h.value},null,8,["modelValue","notice-id"])])}}}),ht=$(pt,[["__scopeId","data-v-813bebe3"]]);export{ht as default};
