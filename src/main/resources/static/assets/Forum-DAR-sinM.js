import{_ as ee,aN as de,R as ue,d as j,e as w,h,y as te,f as e,w as a,v as d,l as q,x as S,H as ae,z as P,C as R,F,B as le,i as Y,j as M,k as J,aP as Ve,N as me,r as g,a as $,o as oe,P as m,af as ne,V as ce,A,U as L,T as G,q as Ee,D as Z,a2 as fe,u as Pe,S as Te,b as xe,m as l,ba as ze,Z as Ie,aD as Q,g as De,K as se,L as ie,a9 as Fe,aU as Se,aa as Ue,ab as O,G as Ne,bb as Be,aC as Re,n as Le}from"./index-D-KotFfR.js";import{a as ge,u as Ae,q as Me,r as je,s as qe,z as He,t as W,v as Ke,w as X,x as Oe}from"./zh-CN-beD5XfO8.js";/* empty css                   *//* empty css                        */import{f as $e}from"./formatDistanceToNow-BaqQA-KY.js";import{R as Ge,N as Ze}from"./NoticeDetailDialog-CRdpNsFs.js";import"./request-D0VF7A5d.js";import"./notice-D5CZK27a.js";const Je={name:"CategoryManagement",components:{Plus:de},emits:["refresh"],setup(H,{emit:o}){const T=g(!1),r=g([]),C=g(!1),V=g(!1),_=g(!1),y=g(null),c=$({id:null,name:"",sort:0,description:"",status:1}),b={name:[{required:!0,message:"请输入板块名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],sort:[{required:!0,message:"请输入排序值",trigger:"blur"}]},x=async()=>{T.value=!0;try{const n=await ge();r.value=n.data||[]}catch(n){console.error("获取板块列表失败:",n),m.error("获取板块列表失败")}finally{T.value=!1}},k=()=>{V.value=!1,N(),C.value=!0},f=n=>{V.value=!0,N(),Object.assign(c,n),C.value=!0},z=n=>{ne.confirm(`确定要删除板块 "${n.name}" 吗？删除后该板块下的所有帖子将被移动到默认板块。`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await je(n.id),m.success("删除成功"),x(),o("refresh")}catch(p){console.error("删除板块失败:",p),m.error("删除板块失败")}}).catch(()=>{m.info("已取消删除")})},U=async()=>{y.value&&await y.value.validate(async n=>{if(n){_.value=!0;try{V.value?(await Ae(c.id,c),m.success("更新成功")):(await Me(c),m.success("添加成功")),C.value=!1,x(),o("refresh")}catch(p){console.error("保存板块失败:",p),m.error("保存失败")}finally{_.value=!1}}})},N=()=>{y.value&&y.value.resetFields(),c.id=null,c.name="",c.sort=0,c.description=""},I=n=>{if(!n)return"-";try{return new Date(n).toLocaleString("zh-CN",{hour12:!1})}catch{return n}};return oe(()=>{x()}),{loading:T,categories:r,dialogVisible:C,isEdit:V,submitting:_,categoryFormRef:y,categoryForm:c,rules:b,handleAddCategory:k,handleEditCategory:f,handleDeleteCategory:z,submitCategoryForm:U,formatTime:I}}},Qe={class:"category-management-container"},We={class:"header"},Xe={class:"dialog-footer"};function Ye(H,o,T,r,C,V){const _=ue("Plus"),y=q,c=S,b=R,x=le,k=J,f=M,z=Ve,U=Y,N=me,I=ae;return w(),j("div",Qe,[h("div",We,[o[6]||(o[6]=h("h3",null,"板块管理",-1)),e(c,{type:"primary",onClick:r.handleAddCategory},{default:a(()=>[e(y,null,{default:a(()=>[e(_)]),_:1}),o[5]||(o[5]=d(" 添加板块 "))]),_:1},8,["onClick"])]),te((w(),P(x,{data:r.categories,border:"",style:{width:"100%"}},{default:a(()=>[e(b,{label:"板块名称","min-width":"150",prop:"name"}),e(b,{label:"排序",prop:"sort",width:"80"}),e(b,{label:"描述","min-width":"200",prop:"description","show-overflow-tooltip":""}),e(b,{label:"帖子数量",prop:"postCount",width:"100"}),e(b,{label:"创建时间",width:"180"},{default:a(n=>[d(F(r.formatTime(n.row.createTime)),1)]),_:1}),e(b,{fixed:"right",label:"操作",width:"150"},{default:a(n=>[e(c,{size:"small",type:"primary",onClick:p=>r.handleEditCategory(n.row)},{default:a(()=>o[7]||(o[7]=[d("编辑")])),_:2},1032,["onClick"]),e(c,{size:"small",type:"danger",onClick:p=>r.handleDeleteCategory(n.row)},{default:a(()=>o[8]||(o[8]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,r.loading]]),e(N,{modelValue:r.dialogVisible,"onUpdate:modelValue":o[4]||(o[4]=n=>r.dialogVisible=n),title:r.isEdit?"编辑板块":"添加板块",width:"500px"},{footer:a(()=>[h("span",Xe,[e(c,{onClick:o[3]||(o[3]=n=>r.dialogVisible=!1)},{default:a(()=>o[9]||(o[9]=[d("取消")])),_:1}),e(c,{loading:r.submitting,type:"primary",onClick:r.submitCategoryForm},{default:a(()=>o[10]||(o[10]=[d("确定")])),_:1},8,["loading","onClick"])])]),default:a(()=>[e(U,{ref:"categoryFormRef",model:r.categoryForm,rules:r.rules,"label-width":"80px"},{default:a(()=>[e(f,{label:"名称",prop:"name"},{default:a(()=>[e(k,{modelValue:r.categoryForm.name,"onUpdate:modelValue":o[0]||(o[0]=n=>r.categoryForm.name=n),placeholder:"请输入板块名称"},null,8,["modelValue"])]),_:1}),e(f,{label:"排序",prop:"sort"},{default:a(()=>[e(z,{modelValue:r.categoryForm.sort,"onUpdate:modelValue":o[1]||(o[1]=n=>r.categoryForm.sort=n),max:999,min:0},null,8,["modelValue"])]),_:1}),e(f,{label:"描述",prop:"description"},{default:a(()=>[e(k,{modelValue:r.categoryForm.description,"onUpdate:modelValue":o[2]||(o[2]=n=>r.categoryForm.description=n),rows:3,placeholder:"请输入板块描述",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}const et=ee(Je,[["render",Ye],["__scopeId","data-v-531d903e"]]),tt={name:"CommentManagement",components:{Search:ce},setup(){const H=Pe(),o=g(!1),T=g([]),r=g(0),C=g(1),V=g(10),_=g(""),y=g(""),c=async()=>{o.value=!0;try{const u={page:C.value,size:V.value,status:_.value!==""?_.value:null,keyword:y.value||null},v=await qe(u);v.code===200&&v.data?(T.value=v.data.rows||v.data.list||[],r.value=v.data.total||0):(m.error(v.message||"获取评论列表失败"),T.value=[],r.value=0)}catch(u){console.error("获取评论列表失败:",u),m.error("获取评论列表失败"),T.value=[],r.value=0}finally{o.value=!1}},b=u=>{if(!u)return"";const v=50;return u.length>v?u.substring(0,v)+"...":u},x=async u=>{var v,B;try{await W(u.id,u.postId,1),m.success("评论已通过审核"),u.status=1}catch(D){console.error("审核评论失败:",D),m.error(((B=(v=D.response)==null?void 0:v.data)==null?void 0:B.message)||D.message||"操作失败")}},k=u=>{ne.confirm("确定要删除此评论吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{var v,B;try{await W(u.id,u.postId,-1),m.success("评论已删除"),u.status=-1}catch(D){console.error("删除评论失败:",D),m.error(((B=(v=D.response)==null?void 0:v.data)==null?void 0:B.message)||D.message||"删除失败")}}).catch(()=>{m.info("已取消删除")})},f=async u=>{var v,B;try{await W(u.id,u.postId,1),m.success("评论已恢复"),u.status=1}catch(D){console.error("恢复评论失败:",D),m.error(((B=(v=D.response)==null?void 0:v.data)==null?void 0:B.message)||D.message||"操作失败")}},z=u=>{u.postId?H.push(`/forum/post/${u.postId}`):m.warning("无法获取帖子信息")},U=()=>{C.value=1,c()},N=()=>{C.value=1,c()},I=u=>{V.value=u,C.value=1,c()},n=u=>{C.value=u,c()},p=u=>{if(!u)return"-";try{const v=new Date(u);return $e(v,{locale:He})}catch(v){return console.error("时间格式化错误:",v),u}};return oe(()=>{c()}),{loading:o,comments:T,total:r,currentPage:C,pageSize:V,filterStatus:_,searchKeyword:y,truncateContent:b,handleApproveComment:x,handleDeleteComment:k,handleRestoreComment:f,viewPost:z,handleFilterChange:U,handleSearch:N,handleSizeChange:I,handleCurrentChange:n,formatTime:p}}},at={class:"comment-management-container"},lt={class:"header"},ot={class:"filter-actions"},nt={class:"comment-detail"},rt={key:0},st={key:1},it={key:0,class:"pagination-container"};function dt(H,o,T,r,C,V){const _=L,y=G,c=ue("Search"),b=q,x=J,k=R,f=Z,z=S,U=le,N=fe,I=ae;return w(),j("div",at,[h("div",lt,[o[4]||(o[4]=h("h3",null,"评论管理",-1)),h("div",ot,[e(y,{modelValue:r.filterStatus,"onUpdate:modelValue":o[0]||(o[0]=n=>r.filterStatus=n),clearable:"",placeholder:"评论状态",onChange:r.handleFilterChange},{default:a(()=>[e(_,{label:"全部",value:""}),e(_,{value:1,label:"正常"}),e(_,{value:0,label:"待审核"}),e(_,{value:-1,label:"已删除"})]),_:1},8,["modelValue","onChange"]),e(x,{modelValue:r.searchKeyword,"onUpdate:modelValue":o[1]||(o[1]=n=>r.searchKeyword=n),clearable:"",placeholder:"搜索评论内容",style:{width:"200px","margin-left":"10px"},onKeyup:Ee(r.handleSearch,["enter"])},{suffix:a(()=>[e(b,{class:"el-input__icon",onClick:r.handleSearch},{default:a(()=>[e(c)]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup"])])]),te((w(),P(U,{data:r.comments,border:"",style:{width:"100%"}},{default:a(()=>[e(k,{type:"expand"},{default:a(n=>[h("div",nt,[o[7]||(o[7]=h("p",null,[h("strong",null,"评论内容：")],-1)),h("p",null,F(n.row.content),1),n.row.postTitle?(w(),j("p",rt,[o[5]||(o[5]=h("strong",null,"帖子标题：",-1)),d(" "+F(n.row.postTitle),1)])):A("",!0),n.row.parentId?(w(),j("p",st,[o[6]||(o[6]=h("strong",null,"回复对象：",-1)),d(" "+F(n.row.replyToName),1)])):A("",!0)])]),_:1}),e(k,{label:"评论内容","min-width":"200","show-overflow-tooltip":""},{default:a(n=>[d(F(r.truncateContent(n.row.content)),1)]),_:1}),e(k,{label:"发布者",prop:"authorName",width:"120"}),e(k,{label:"帖子标题","min-width":"150",prop:"postTitle","show-overflow-tooltip":""}),e(k,{label:"点赞数",prop:"likeCount",sortable:"",width:"80"}),e(k,{label:"状态",width:"100"},{default:a(n=>[n.row.status===1?(w(),P(f,{key:0,type:"success"},{default:a(()=>o[8]||(o[8]=[d("正常")])),_:1})):n.row.status===0?(w(),P(f,{key:1,type:"warning"},{default:a(()=>o[9]||(o[9]=[d("待审核")])),_:1})):n.row.status===-1?(w(),P(f,{key:2,type:"danger"},{default:a(()=>o[10]||(o[10]=[d("已删除")])),_:1})):(w(),P(f,{key:3,type:"info"},{default:a(()=>o[11]||(o[11]=[d("未知")])),_:1}))]),_:1}),e(k,{label:"发布时间",width:"180"},{default:a(n=>[d(F(r.formatTime(n.row.createTime)),1)]),_:1}),e(k,{fixed:"right",label:"操作",width:"200"},{default:a(n=>[n.row.status===0?(w(),P(z,{key:0,size:"small",type:"success",onClick:p=>r.handleApproveComment(n.row)},{default:a(()=>o[12]||(o[12]=[d(" 审核通过 ")])),_:2},1032,["onClick"])):A("",!0),n.row.status!==-1?(w(),P(z,{key:1,size:"small",type:"danger",onClick:p=>r.handleDeleteComment(n.row)},{default:a(()=>o[13]||(o[13]=[d(" 删除 ")])),_:2},1032,["onClick"])):A("",!0),n.row.status===-1?(w(),P(z,{key:2,size:"small",type:"primary",onClick:p=>r.handleRestoreComment(n.row)},{default:a(()=>o[14]||(o[14]=[d(" 恢复 ")])),_:2},1032,["onClick"])):A("",!0),e(z,{size:"small",onClick:p=>r.viewPost(n.row)},{default:a(()=>o[15]||(o[15]=[d(" 查看帖子 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,r.loading]]),r.total>0?(w(),j("div",it,[e(N,{"current-page":r.currentPage,"onUpdate:currentPage":o[2]||(o[2]=n=>r.currentPage=n),"page-size":r.pageSize,"onUpdate:pageSize":o[3]||(o[3]=n=>r.pageSize=n),"page-sizes":[10,20,50,100],total:r.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])):A("",!0)])}const ut=ee(tt,[["render",dt],["__scopeId","data-v-d88c5377"]]),mt={class:"forum-management-container"},ct={class:"page-header"},ft={class:"action-buttons"},gt={class:"card-header"},pt={class:"dialog-footer"},vt={name:"ForumManagement"},yt=Object.assign(vt,{setup(H){const o=g("post"),T=g(!1),r=g([]),C=g(0),V=g(1),_=g(10),y=$({keyword:"",categoryId:"",status:""}),c=g([]),b=g(!1),x=g(!1),k=g(!1),f=$({id:null,title:"",categoryId:null,content:""}),z=g(null),U=g(null),N=$({title:[{required:!0,message:"请输入标题",trigger:"blur"}],categoryId:[{required:!0,message:"请选择分类",trigger:"change"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]}),I=Te(),n=async()=>{try{const i=await ge();i.code===200?c.value=i.data||[]:m.error(i.message||"获取分类失败")}catch(i){console.error("获取分类失败:",i)}},p=async()=>{T.value=!0;try{const i={page:V.value,size:_.value,keyword:y.keyword||void 0,categoryId:y.categoryId||void 0,status:y.status||void 0},t=await Ke(i);t.code===200&&t.data?(r.value=t.data.list||[],C.value=t.data.total||0):(m.error(t.message||"获取帖子列表失败"),r.value=[],C.value=0)}catch(i){console.error("获取帖子列表失败:",i),r.value=[],C.value=0}finally{T.value=!1}},u=()=>{var i;Object.assign(f,{id:null,title:"",categoryId:null,content:""}),b.value=!0,(i=I.value)==null||i.setHtml("")},v=i=>{Object.assign(f,{...i}),b.value=!0,Le(()=>{var t;(t=I.value)==null||t.setHtml(i.content||"")})},B=i=>{z.value=i.id,x.value=!0},D=async()=>{U.value&&await U.value.validate(async i=>{var t;if(i){k.value=!0;try{f.content=((t=I.value)==null?void 0:t.getHtml())||"";let E;if(f.id)E=await X(f.id,f);else throw m.warning("创建帖子 API 未实现"),new Error("Create API not implemented");E.code===200?(m.success(f.id?"更新成功":"创建成功"),b.value=!1,p()):m.error(E.message||"操作失败")}catch(E){console.error("提交帖子失败:",E)}finally{k.value=!1}}})},pe=async i=>{const t=i.isTop?"取消置顶":"置顶";try{await X(i.id,{isTop:!i.isTop}),m.success(`${t}成功`),p()}catch{m.error(`${t}失败`)}},ve=async i=>{const t=i.isEssence?"取消加精":"加精";try{await X(i.id,{isEssence:!i.isEssence}),m.success(`${t}成功`),p()}catch{m.error(`${t}失败`)}},re=(i,t="soft")=>{const E=t==="hard"?"彻底删除":"删除";ne.confirm(`确定要${E}帖子 "${i.title}" 吗? ${t==="hard"?"此操作不可恢复!":""}`,"警告",{confirmButtonText:`确定${E}`,cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await Oe(i.id),m.success(`${E}成功`),p()}catch(s){console.error(`${E}帖子失败:`,s)}}).catch(()=>{m.info(`已取消${E}`)})},ye=i=>{_.value=i,V.value=1,p()},we=i=>{V.value=i,p()},Ce=i=>{if(!i)return"-";try{return new Date(i).toLocaleString()}catch{return i}},_e=i=>({PUBLISHED:"正常",PENDING:"待审核",DELETED:"已删除",PRIVATE:"私密"})[i]||i||"未知",be=i=>({PUBLISHED:"success",PENDING:"warning",DELETED:"danger",PRIVATE:"info"})[i]||"info",ke=i=>{i.props.name==="post"&&p()},he=i=>{I.value=i};return xe(()=>{var i;(i=I.value)==null||i.destroy()}),oe(()=>{n(),p()}),(i,t)=>{const E=ae;return w(),j("div",mt,[h("div",ct,[t[17]||(t[17]=h("h2",null,"论坛管理",-1)),h("div",ft,[e(l(S),{type:"success",onClick:t[0]||(t[0]=s=>o.value="categories")},{default:a(()=>[e(l(q),null,{default:a(()=>[e(l(ze))]),_:1}),t[14]||(t[14]=d(" 板块管理 "))]),_:1}),e(l(S),{type:"warning",onClick:t[1]||(t[1]=s=>o.value="comments")},{default:a(()=>[e(l(q),null,{default:a(()=>[e(l(Ie))]),_:1}),t[15]||(t[15]=d(" 评论管理 "))]),_:1}),e(l(S),{type:"primary",onClick:u},{default:a(()=>[e(l(q),null,{default:a(()=>[e(l(de))]),_:1}),t[16]||(t[16]=d(" 发布帖子 "))]),_:1})])]),e(l(Re),{modelValue:o.value,"onUpdate:modelValue":t[7]||(t[7]=s=>o.value=s),type:"card",onTabClick:ke},{default:a(()=>[e(l(Q),{label:"帖子管理",name:"post"},{default:a(()=>[e(l(De),{class:"tab-content-card"},{header:a(()=>[h("div",gt,[t[18]||(t[18]=h("span",null,"帖子列表",-1)),e(l(S),{icon:l(Be),circle:"",onClick:p},null,8,["icon"])])]),default:a(()=>[e(l(Y),{inline:!0,model:y,class:"filter-form"},{default:a(()=>[e(l(M),{label:"关键词"},{default:a(()=>[e(l(J),{modelValue:y.keyword,"onUpdate:modelValue":t[2]||(t[2]=s=>y.keyword=s),clearable:"",placeholder:"标题/内容/作者"},null,8,["modelValue"])]),_:1}),e(l(M),{label:"分类"},{default:a(()=>[e(l(G),{modelValue:y.categoryId,"onUpdate:modelValue":t[3]||(t[3]=s=>y.categoryId=s),clearable:"",filterable:"",placeholder:"选择分类"},{default:a(()=>[e(l(L),{label:"全部",value:""}),(w(!0),j(se,null,ie(c.value,s=>(w(),P(l(L),{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(l(M),{label:"状态"},{default:a(()=>[e(l(G),{modelValue:y.status,"onUpdate:modelValue":t[4]||(t[4]=s=>y.status=s),clearable:"",placeholder:"选择状态"},{default:a(()=>[e(l(L),{label:"全部",value:""}),e(l(L),{label:"正常",value:"PUBLISHED"}),e(l(L),{label:"待审核",value:"PENDING"}),e(l(L),{label:"已删除",value:"DELETED"}),e(l(L),{label:"私密",value:"PRIVATE"})]),_:1},8,["modelValue"])]),_:1}),e(l(M),null,{default:a(()=>[e(l(S),{icon:l(ce),type:"primary",onClick:p},{default:a(()=>t[19]||(t[19]=[d("查询")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),te((w(),P(l(le),{data:r.value,style:{width:"100%"}},{empty:a(()=>[e(l(Ne),{description:"暂无帖子数据"})]),default:a(()=>[e(l(R),{label:"标题","min-width":"200",prop:"title","show-overflow-tooltip":""}),e(l(R),{label:"分类",prop:"categoryName",width:"100"}),e(l(R),{label:"作者",prop:"authorName",width:"120"}),e(l(R),{label:"浏览/评论/点赞",width:"150"},{default:a(s=>[d(F(s.row.viewCount||0)+" / "+F(s.row.commentCount||0)+" / "+F(s.row.likeCount||0),1)]),_:1}),e(l(R),{label:"状态",prop:"status",width:"100"},{default:a(s=>[e(l(Z),{type:be(s.row.status)},{default:a(()=>[d(F(_e(s.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(l(R),{label:"置顶/精华",width:"100"},{default:a(s=>[s.row.isTop?(w(),P(l(Z),{key:0,size:"small",style:{"margin-right":"5px"}},{default:a(()=>t[20]||(t[20]=[d("顶")])),_:1})):A("",!0),s.row.isEssence?(w(),P(l(Z),{key:1,size:"small",type:"warning"},{default:a(()=>t[21]||(t[21]=[d("精")])),_:1})):A("",!0)]),_:1}),e(l(R),{label:"发布时间",prop:"createTime",width:"160"},{default:a(s=>[d(F(Ce(s.row.createTime)),1)]),_:1}),e(l(R),{fixed:"right",label:"操作",width:"280"},{default:a(s=>[e(l(S),{size:"small",type:"primary",onClick:K=>B(s.row)},{default:a(()=>t[22]||(t[22]=[d("查看")])),_:2},1032,["onClick"]),e(l(S),{size:"small",onClick:K=>v(s.row)},{default:a(()=>t[23]||(t[23]=[d("编辑")])),_:2},1032,["onClick"]),e(l(Fe),{style:{"margin-left":"10px"}},{dropdown:a(()=>[e(l(Ue),null,{default:a(()=>[e(l(O),{onClick:K=>pe(s.row)},{default:a(()=>[d(F(s.row.isTop?"取消置顶":"置顶"),1)]),_:2},1032,["onClick"]),e(l(O),{onClick:K=>ve(s.row)},{default:a(()=>[d(F(s.row.isEssence?"取消加精":"加精"),1)]),_:2},1032,["onClick"]),e(l(O),{onClick:K=>re(s.row,"soft")},{default:a(()=>t[25]||(t[25]=[d("删除")])),_:2},1032,["onClick"]),e(l(O),{divided:"",onClick:K=>re(s.row,"hard")},{default:a(()=>t[26]||(t[26]=[d("彻底删除")])),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[e(l(S),{size:"small"},{default:a(()=>[t[24]||(t[24]=d("更多 ")),e(l(q),null,{default:a(()=>[e(l(Se))]),_:1})]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[E,T.value]]),C.value>0?(w(),P(l(fe),{key:0,"current-page":V.value,"onUpdate:currentPage":t[5]||(t[5]=s=>V.value=s),"page-size":_.value,"onUpdate:pageSize":t[6]||(t[6]=s=>_.value=s),"page-sizes":[10,20,50],total:C.value,class:"pagination-container",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ye,onCurrentChange:we},null,8,["current-page","page-size","total"])):A("",!0)]),_:1})]),_:1}),e(l(Q),{label:"评论管理",name:"comment"},{default:a(()=>[e(ut)]),_:1}),e(l(Q),{label:"分类管理",name:"category"},{default:a(()=>[e(et)]),_:1})]),_:1},8,["modelValue"]),e(l(me),{modelValue:b.value,"onUpdate:modelValue":t[12]||(t[12]=s=>b.value=s),"close-on-click-modal":!1,title:"编辑帖子",width:"70%"},{footer:a(()=>[h("span",pt,[e(l(S),{onClick:t[11]||(t[11]=s=>b.value=!1)},{default:a(()=>t[27]||(t[27]=[d("取消")])),_:1}),e(l(S),{loading:k.value,type:"primary",onClick:D},{default:a(()=>t[28]||(t[28]=[d("保存")])),_:1},8,["loading"])])]),default:a(()=>[e(l(Y),{ref_key:"editPostFormRef",ref:U,model:f,rules:N,"label-width":"80px"},{default:a(()=>[e(l(M),{label:"标题",prop:"title"},{default:a(()=>[e(l(J),{modelValue:f.title,"onUpdate:modelValue":t[8]||(t[8]=s=>f.title=s),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),e(l(M),{label:"分类",prop:"categoryId"},{default:a(()=>[e(l(G),{modelValue:f.categoryId,"onUpdate:modelValue":t[9]||(t[9]=s=>f.categoryId=s),placeholder:"选择分类"},{default:a(()=>[(w(!0),j(se,null,ie(c.value,s=>(w(),P(l(L),{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(l(M),{label:"内容",prop:"content"},{default:a(()=>[e(Ge,{modelValue:f.content,"onUpdate:modelValue":t[10]||(t[10]=s=>f.content=s),onOnCreated:he},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),e(Ze,{modelValue:x.value,"onUpdate:modelValue":t[13]||(t[13]=s=>x.value=s),"notice-id":z.value},null,8,["modelValue","notice-id"])])}}}),Pt=ee(yt,[["__scopeId","data-v-81d281e6"]]);export{Pt as default};
