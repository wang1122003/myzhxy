import{_ as R,u as z,ad as F,r as m,S as N,ag as T,p as V,ah as W,ai as A,aj as D,ak as j,c as q,o as H,al as K,am as P,an as d,b as U,R as $,z as c,e as o,w as e,f as a,ao as G,a8 as J,h as v,l as O,m as x,ap as Q,aq as X,ar as Y,as as Z,d as ee,K as ae,L as te,at as ne,au as se,v as h,F as oe,av as le,aw as ce,x as re,ax as ie,af as ue}from"./index-gQMZQ2sp.js";const de={class:"sidebar-header"},_e={__name:"Index",setup(fe){const _=z(),w=F(),t=m(!1),i=m(!1),f=N([{index:"/student",icon:T,title:"首页"},{index:"/student/profile",icon:V,title:"个人资料"},{index:"/student/schedule",icon:W,title:"课程表"},{index:"/student/grades",icon:A,title:"成绩查询"},{index:"/student/activities",icon:D,title:"活动列表"},{index:"/student/files",icon:j,title:"文件管理"}]);q(()=>{const s=w.path,n=f.value.find(l=>l.index===s||s.startsWith(l.index+"/"));return n?n.title:"学生中心"}),H(()=>{u(),window.addEventListener("resize",u),(!K||!P)&&(console.warn("Store 中无用户信息，强制登出"),d())}),U(()=>{window.removeEventListener("resize",u)});const u=()=>{i.value=window.innerWidth<768,t.value=i.value},g=()=>{t.value=!t.value},E=()=>{i.value&&(t.value=!0)},b=async()=>{await ue.confirm("您确定要退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await d(),_.push("/login")}catch(s){console.error("登出时出错:",s),d(),_.push("/login")}}).catch(()=>{})};return(s,n)=>{const l=O,k=ne,y=Z,B=Y,C=G,I=re,M=ce,S=$("router-view"),L=ie,p=le;return o(),c(p,{class:"layout-container"},{default:e(()=>[a(C,{class:J([{"is-collapse":t.value},"sidebar-container"]),width:t.value?"64px":"200px"},{default:e(()=>[v("div",de,[a(l,{class:"collapse-icon",onClick:g},{default:e(()=>[t.value?(o(),c(x(Q),{key:0})):(o(),c(x(X),{key:1}))]),_:1})]),a(B,{"wrap-class":"scrollbar-wrapper"},{default:e(()=>[a(y,{collapse:t.value,"collapse-transition":!1,"default-active":s.$route.path,"active-text-color":"#409EFF","background-color":"#304156",class:"el-menu-vertical",router:"","text-color":"#bfcbd9",onSelect:E},{default:e(()=>[(o(!0),ee(ae,null,te(f.value,r=>(o(),c(k,{key:r.index,index:r.index},{title:e(()=>[h(oe(r.title),1)]),default:e(()=>[a(l,null,{default:e(()=>[(o(),c(se(r.icon)))]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),_:1},8,["class","width"]),a(p,null,{default:e(()=>[a(M,{class:"header-container"},{default:e(()=>[n[1]||(n[1]=v("div",{class:"header-title"},"学生端",-1)),a(I,{type:"danger",onClick:b},{default:e(()=>n[0]||(n[0]=[h("退出登录")])),_:1})]),_:1}),a(L,null,{default:e(()=>[a(S)]),_:1})]),_:1})]),_:1})}}},me=R(_e,[["__scopeId","data-v-b07c7f37"]]);export{me as default};
