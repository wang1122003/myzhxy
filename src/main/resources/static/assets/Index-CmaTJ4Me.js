import{_ as M,u as B,ad as z,r as d,S as F,ag as L,p as R,ah as N,ai as U,c as V,o as W,b as D,P,R as q,z as l,e as s,w as e,f as t,ao as A,a8 as K,h as T,l as $,m as f,ap as j,aq as G,ar as H,as as J,d as O,K as Q,L as X,at as Y,au as Z,v as ee,F as ae,av as te,ax as oe}from"./index-gQMZQ2sp.js";import{a as se}from"./user-xlhqAG_R.js";import"./request-DfavLRg_.js";import"./api-endpoints-Ctc2JoQP.js";const ne={class:"sidebar-header"},le={__name:"Index",setup(ce){const m=B(),v=z(),h=d({}),a=d(!1),r=d(!1),_=F([{index:"/teacher",icon:L,title:"首页"},{index:"/teacher/profile",icon:R,title:"个人资料"},{index:"/teacher/schedule",icon:N,title:"我的课表"},{index:"/teacher/courses",icon:U,title:"课程管理"}]);V(()=>{const o=v.path,i=_.value.find(n=>n.index===o||o.startsWith(n.index+"/"));return i?i.title:"教师中心"}),W(()=>{g(),u(),window.addEventListener("resize",u)}),D(()=>{window.removeEventListener("resize",u)});const u=()=>{r.value=window.innerWidth<768,a.value=r.value},x=()=>{a.value=!a.value},w=()=>{r.value&&(a.value=!0)},g=()=>{se().then(o=>{h.value=o.data}).catch(()=>{E()})},E=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),m.push("/login"),P({message:"退出登录成功",type:"success"})};return(o,i)=>{const n=$,I=Y,b=J,k=H,C=A,S=q("router-view"),y=oe,p=te;return s(),l(p,{class:"layout-container"},{default:e(()=>[t(C,{class:K([{"is-collapse":a.value},"sidebar-container"]),width:a.value?"64px":"200px"},{default:e(()=>[T("div",ne,[t(n,{class:"collapse-icon",onClick:x},{default:e(()=>[a.value?(s(),l(f(j),{key:0})):(s(),l(f(G),{key:1}))]),_:1})]),t(k,{"wrap-class":"scrollbar-wrapper"},{default:e(()=>[t(b,{collapse:a.value,"collapse-transition":!1,"default-active":o.$route.path,"active-text-color":"#409EFF","background-color":"#304156",class:"el-menu-vertical",router:"","text-color":"#bfcbd9",onSelect:w},{default:e(()=>[(s(!0),O(Q,null,X(_.value,c=>(s(),l(I,{key:c.index,index:c.index},{title:e(()=>[ee(ae(c.title),1)]),default:e(()=>[t(n,null,{default:e(()=>[(s(),l(Z(c.icon)))]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),_:1},8,["class","width"]),t(p,null,{default:e(()=>[t(y,null,{default:e(()=>[t(S)]),_:1})]),_:1})]),_:1})}}},_e=M(le,[["__scopeId","data-v-9a59c2fe"]]);export{_e as default};
