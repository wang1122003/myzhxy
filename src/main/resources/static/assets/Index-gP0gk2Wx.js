import{_ as M,u as B,ad as z,r as d,S as F,ag as L,p as N,ah as R,c as D,o as U,b as V,P as W,R as A,z as l,e as n,w as e,f as t,ao as P,a8 as q,h as K,l as T,m as f,ap as $,aq as j,ar as G,as as H,d as J,K as O,L as Q,at as X,au as Y,v as Z,F as ee,av as ae,ax as te}from"./index-DrN7HJWs.js";import{a as oe}from"./user-BjEgjqEk.js";import"./request-BGbcGZqw.js";const ne={class:"sidebar-header"},se={__name:"Index",setup(le){const m=B(),v=z(),h=d({}),a=d(!1),r=d(!1),_=F([{index:"/teacher",icon:L,title:"首页"},{index:"/teacher/profile",icon:N,title:"个人资料"},{index:"/teacher/schedule",icon:R,title:"我的课表"},{index:"/teacher/course-management",icon:"Notebook",title:"课程管理"},{index:"/teacher/grades",icon:"DataAnalysis",title:"成绩管理"}]);D(()=>{const o=v.path,u=_.value.find(s=>s.index===o||o.startsWith(s.index+"/"));return u?u.title:"教师中心"}),U(()=>{w(),i(),window.addEventListener("resize",i)}),V(()=>{window.removeEventListener("resize",i)});const i=()=>{r.value=window.innerWidth<768,a.value=r.value},x=()=>{a.value=!a.value},g=()=>{r.value&&(a.value=!0)},w=()=>{oe().then(o=>{h.value=o.data}).catch(()=>{b()})},b=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),m.push("/login"),W({message:"退出登录成功",type:"success"})};return(o,u)=>{const s=T,E=X,I=H,k=G,y=P,C=A("router-view"),S=te,p=ae;return n(),l(p,{class:"layout-container"},{default:e(()=>[t(y,{class:q([{"is-collapse":a.value},"sidebar-container"]),width:a.value?"64px":"200px"},{default:e(()=>[K("div",ne,[t(s,{class:"collapse-icon",onClick:x},{default:e(()=>[a.value?(n(),l(f($),{key:0})):(n(),l(f(j),{key:1}))]),_:1})]),t(k,{"wrap-class":"scrollbar-wrapper"},{default:e(()=>[t(I,{collapse:a.value,"collapse-transition":!1,"default-active":o.$route.path,"active-text-color":"#409EFF","background-color":"#304156",class:"el-menu-vertical",router:"","text-color":"#bfcbd9",onSelect:g},{default:e(()=>[(n(!0),J(O,null,Q(_.value,c=>(n(),l(E,{key:c.index,index:c.index},{title:e(()=>[Z(ee(c.title),1)]),default:e(()=>[t(s,null,{default:e(()=>[(n(),l(Y(c.icon)))]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),_:1},8,["class","width"]),t(p,null,{default:e(()=>[t(S,null,{default:e(()=>[t(C)]),_:1})]),_:1})]),_:1})}}},ue=M(se,[["__scopeId","data-v-d8cb87ec"]]);export{ue as default};
